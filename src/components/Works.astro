---
import { works } from "@consts";
import Work from "./ui/work.astro";
---

<section class="flex flex-col relative">
  <header class="top-0 bg-black p-5 py-24">
    <h1 class="text-p-info p-5 text-center max-w-5xl m-auto !text-secondary">
      This is some of stuff I've been building with code. Take a peek and see
      what I've been up to.
    </h1>
  </header>
  <main
    class="bg-black bg-dot z-10 w-full m-auto py-32 flex flex-col gap-6 p-5">
    {
      works.map((work) => (
        <Work
          title={work.title}
          url={work.url}
          image={work.image}
          info={work.info}
          tags={work.tags}
        />
      ))
    }
  </main>
</section>

<style>
  @media (prefers-reduced-motion: no-preference) {
    @supports (animation-timeline: scroll()) {
      h1 {
        animation: scale-down linear both;
        animation-duration: 300ms;
        animation-timeline: scroll();
        animation-range: exit -50px;
      }
    }
  }

  @keyframes scale-down {
    to {
      transform: scale(0.1);
    }
  }
</style>
